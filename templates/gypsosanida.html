{% extends "base.html" %}

{% block content %}
  <div class="thermoprosopsi-page">
  <section class="hero">
    <div class="hero-grid">
      <div class="hero-left">
        <a class="back-link" href="/" aria-label="Πίσω στην αρχική">Πίσω στην Αρχική</a>
        <h1>Γυψοσανίδα</h1>
      </div>
      <div class="top-stats" aria-live="polite">
        <div class="stat">
          <div class="label">Σύνολο Κόστους</div>
          <div class="value" id="liveCost">€0.00</div>
        </div>
        <div class="stat">
          <div class="label">Τιμή Πώλησης</div>
          <div class="value" id="liveSell">€0.00</div>
        </div>
        <div class="stat">
          <div class="label">Μικτό Κέρδος</div>
          <div class="value">
            <span id="liveGrossAmt">€0.00</span>
            <span id="liveGrossPct" class="value-pct">(0.0%)</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section" aria-labelledby="inputs-title">
    <h2 id="inputs-title">Εισαγωγή Ποσοτήτων</h2>
    <p class="muted">Ορίστε m², lm, μεροκάματα και τις τεμαχιακές ποσότητες (φύλλα, στρωτήρες, ορθοστάτες). Οι τεμαχιακές ποσότητες στρογγυλοποιούνται πάντα προς τα πάνω.</p>
    <div class="form-grid">
      <div class="field">
        <label for="m2">Επιφάνεια (m²)</label>
        <input id="m2" name="m2" class="input-lg input-grey" type="number" inputmode="decimal" min="0" step="0.01" value="0">
      </div>
      <div class="field">
        <label for="lm">Τρεχόμετρα (lm)</label>
        <input id="lm" name="lm" class="input-lg input-grey" type="number" inputmode="decimal" min="0" step="0.01" value="0">
      </div>
      <div class="field">
        <label for="days-technitis">Τεχνίτης — Μεροκάματα</label>
        <input id="days-technitis" name="days-technitis" class="input-lg input-grey" type="number" inputmode="decimal" min="0" step="0.1" value="0">
      </div>
      <div class="field">
        <label for="days-voithos">Βοηθός Τεχνίτη — Μεροκάματα</label>
        <input id="days-voithos" name="days-voithos" class="input-lg input-grey" type="number" inputmode="decimal" min="0" step="0.1" value="0">
      </div>
    </div>

    <div class="form-grid" style="margin-top: 8px;">
      <div class="field">
        <label for="sheetsGyps">Γυψοσανίδα — Φύλλα (τεμ.)</label>
        <input id="sheetsGyps" name="sheetsGyps" class="input-lg input-grey" type="number" inputmode="numeric" min="0" step="1" value="0">
      </div>
      <div class="field">
        <label for="sheetsIno">Ινοσανίδα — Φύλλα (τεμ.)</label>
        <input id="sheetsIno" name="sheetsIno" class="input-lg input-grey" type="number" inputmode="numeric" min="0" step="1" value="0">
      </div>
      <div class="field">
        <label for="sheetsAnth">Ανθυγρή — Φύλλα (τεμ.)</label>
        <input id="sheetsAnth" name="sheetsAnth" class="input-lg input-grey" type="number" inputmode="numeric" min="0" step="1" value="0">
      </div>
      <div class="field">
        <label>Μήκος για Στρωτήρες/Ορθοστάτες</label>
        <div class="color-scheme-toggle" role="radiogroup" aria-label="Μήκος" id="lengthGroup">
          <label><input type="radio" name="lengthOpt" value="500"><div class="text">500 cm</div></label>
          <label><input type="radio" name="lengthOpt" value="750"><div class="text">750 cm</div></label>
          <label><input type="radio" name="lengthOpt" value="1000"><div class="text">1000 cm</div></label>
          <div class="slider-indicator" aria-hidden="true"></div>
        </div>
      </div>
      <div class="field">
        <label for="strotirasCount">Στρωτήρας (τεμ.)</label>
        <input id="strotirasCount" name="strotirasCount" class="input-lg input-grey" type="number" inputmode="numeric" min="0" step="1" value="0">
      </div>
      <div class="field">
        <label for="orthostatisCount">Ορθοστάτης (τεμ.)</label>
        <input id="orthostatisCount" name="orthostatisCount" class="input-lg input-grey" type="number" inputmode="numeric" min="0" step="1" value="0">
      </div>
    </div>
  </section>

  <section class="section" aria-labelledby="pricing-title">
    <h2 id="pricing-title">Πολιτική Τιμολόγησης</h2>
    <div class="field">
      <label for="markup">Επιθυμητό Markup</label>
      <div class="slider-row">
        <div class="slider-track">
          <div class="slider-bubble" id="markupBubble">20%</div>
          <input id="markup" type="range" min="0" max="100" step="1" value="20" aria-describedby="markup-legend markup-zone-label">
        </div>
      </div>
      <div id="markup-zone-label" class="muted slider-zone-label">Ζώνη: Ισορροπημένο περιθώριο</div>
      <div id="markup-legend" class="muted">Χρωματική μπάρα: Κόκκινο 0–14%, Γκρι 15–30%, Κίτρινο 31–60%, Πράσινο 61–100%.</div>
    </div>
  </section>

  <section class="section" aria-labelledby="areas-title">
    <h2 id="areas-title">Υλικά ανά m²</h2>
    <div class="muted">Κόστος = Τιμή × m²</div>
    <div id="areas-list" class="list-grid" aria-live="polite"></div>
  </section>

  <section class="section" aria-labelledby="linear-title">
    <h2 id="linear-title">Υλικά ανά τρεχόμετρο (lm)</h2>
    <div class="muted">Κόστος = Τιμή × lm για όλα τα γραμμικά υλικά (π.χ. Περιμετρικά, Κανάλι).</div>
    <div id="linear-list" class="list-grid" aria-live="polite"></div>
  </section>

  <section class="section" aria-labelledby="pieces-title">
    <h2 id="pieces-title">Υλικά τεμαχίων</h2>
    <div class="muted">Οι ποσότητες προέρχονται από τα πεδία «Φύλλα», «Στρωτήρας (τεμ.)», «Ορθοστάτης (τεμ.)». Οι τιμές ενημερώνονται ανά είδος/μήκος.</div>
    <div id="pieces-list" class="list-grid" aria-live="polite"></div>
  </section>

  <section class="section" aria-labelledby="workers-title">
    <h2 id="workers-title">Εργασία</h2>
    <div class="muted">Κόστος = Τιμή × Μεροκάματα.</div>
    <div id="workers-list" class="list-grid" aria-live="polite"></div>
  </section>

  <section class="section" aria-labelledby="summary-title">
    <h2 id="summary-title">Σύνοψη & Αναλύσεις (χωρίς ΦΠΑ)</h2>
    <div class="summary" id="summary">
      <div class="summary-row"><div>Υλικά επιφάνειας (m²)</div><div id="sumAreas" class="right">€0.00</div></div>
      <div class="summary-row"><div>Υλικά γραμμικά (lm)</div><div id="sumLinear" class="right">€0.00</div></div>
      <div class="summary-row"><div>Υλικά τεμαχίων</div><div id="sumPieces" class="right">€0.00</div></div>
      <div class="summary-row"><div>Εργασία</div><div id="sumWorkers" class="right">€0.00</div></div>
      <div class="summary-row total"><div>Σύνολο Κόστους</div><div id="sumCost" class="right">€0.00</div></div>
      <div class="summary-row"><div>Markup</div><div id="sumMarkup" class="right">20%</div></div>
      <div class="summary-row total"><div>Τιμή Πώλησης</div><div id="sumSell" class="right">€0.00</div></div>
      <div class="summary-row"><div>Μικτό Κέρδος</div><div id="sumGross" class="right"><span id="sumGrossAmt">€0.00</span> <span id="sumGrossPct">(0.0%)</span></div></div>
      <div class="summary-row"><div>Τιμή ανά m² (αν έχει οριστεί m²)</div><div id="sumPerM2" class="right">—</div></div>
      <div class="summary-row"><div>Τιμή ανά lm (αν έχουν οριστεί lm)</div><div id="sumPerLm" class="right">—</div></div>
    </div>
    <p class="muted">Σημείωση: Οι τιμές δεν περιλαμβάνουν ΦΠΑ 24%.</p>
  </section>

  <script src="/static/gypsosanida.js"></script>
  </div>
{% endblock %}
