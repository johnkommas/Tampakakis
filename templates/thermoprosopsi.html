{% extends "base.html" %}

{% block content %}
  <section class="hero">
    <div class="hero-grid">
      <h1>Θερμοπρόσοψη — Υπολογισμός Κόστους</h1>
      <div class="top-stats" aria-live="polite">
        <div class="stat">
          <div class="label">Σύνολο Κόστους</div>
          <div class="value" id="liveCost">€0.00</div>
        </div>
        <div class="stat">
          <div class="label">Τιμή Πώλησης</div>
          <div class="value" id="liveSell">€0.00</div>
        </div>
      </div>
    </div>
  </section>

  <section class="section" aria-labelledby="inputs-title">
    <h2 id="inputs-title">Εισαγωγή Ποσοτήτων</h2>
    <p class="muted">Συμβουλή: Με κλικ στα πεδία επιλέγεται αυτόματα όλο το κείμενο. Εισαγάγετε εδώ m², lm και
      μεροκάματα για Τεχνίτη/Βοηθό.</p>
    <div class="form-grid">
      <div class="field">
        <label for="m2">Επιφάνεια (m²)</label>
        <input id="m2" name="m2" type="number" inputmode="decimal" min="0" step="0.01" value="0">
      </div>
      <div class="field">
        <label for="lm">Τρεχόμετρα (lm)</label>
        <input id="lm" name="lm" type="number" inputmode="decimal" min="0" step="0.01" value="0">
      </div>
      <div class="field">
        <label for="days-technitis">Τεχνίτης — Μεροκάματα</label>
        <input id="days-technitis" name="days-technitis" type="number" inputmode="decimal" min="0" step="0.1" value="0">
      </div>
      <div class="field">
        <label for="days-voithos">Βοηθός Τεχνίτη — Μεροκάματα</label>
        <input id="days-voithos" name="days-voithos" type="number" inputmode="decimal" min="0" step="0.1" value="0">
      </div>
    </div>
  </section>

  <section class="section" aria-labelledby="pricing-title">
    <h2 id="pricing-title">Πολιτική Τιμολόγησης</h2>
    <div class="field">
      <label for="markup">Επιθυμητό Markup</label>
      <div class="slider-row">
        <div class="slider-track">
          <input id="markup" type="range" min="0" max="100" step="1" value="20">
        </div>
        <input id="markupPercent" class="percent-input" type="number" inputmode="numeric" min="0" max="100" step="1" value="20" aria-label="Ποσοστό Markup (%)">
      </div>
      <div class="muted">Χρωματική μπάρα: Κόκκινο 0–14%, Γκρι 15–30%, Κίτρινο 31–60%, Πράσινο 61–100%.</div>
    </div>
  </section>

  <section class="section" aria-labelledby="areas-title">
    <h2 id="areas-title">Υλικά ανά m²</h2>
    <div class="muted">Το κόστος υπολογίζεται ως Τιμή × m².</div>
    <div class="table-wrap">
      <table class="table" id="tbl-areas">
        <thead>
          <tr>
            <th>Υλικό</th>
            <th>Τιμή/μον.</th>
            <th class="right">Ποσότητα</th>
            <th class="right">Κόστος</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <section class="section" aria-labelledby="linear-title">
    <h2 id="linear-title">Υλικά ανά τρεχόμετρο (lm)</h2>
    <div class="muted">Το κόστος υπολογίζεται ως Τιμή × lm.</div>
    <div class="table-wrap">
      <table class="table" id="tbl-linear">
        <thead>
          <tr>
            <th>Υλικό</th>
            <th>Τιμή/μον.</th>
            <th class="right">Ποσότητα</th>
            <th class="right">Κόστος</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <section class="section" aria-labelledby="workers-title">
    <h2 id="workers-title">Εργασία</h2>
    <div class="muted">Κόστος = Τιμή × Μεροκάματα (ορίζονται στην ενότητα "Εισαγωγή Ποσοτήτων").</div>
    <div class="table-wrap">
      <table class="table" id="tbl-workers">
        <thead>
          <tr>
            <th>Ρόλος</th>
            <th>Τιμή/ημέρα</th>
            <th class="right">Κόστος</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <section class="section" aria-labelledby="summary-title">
    <h2 id="summary-title">Σύνοψη & Αναλύσεις (χωρίς ΦΠΑ)</h2>
    <div class="summary" id="summary">
      <div class="summary-row"><div>Υλικά επιφάνειας (m²)</div><div id="sumAreas" class="right">€0.00</div></div>
      <div class="summary-row"><div>Υλικά γραμμικά (lm)</div><div id="sumLinear" class="right">€0.00</div></div>
      <div class="summary-row"><div>Εργασία</div><div id="sumWorkers" class="right">€0.00</div></div>
      <div class="summary-row total"><div>Σύνολο Κόστους</div><div id="sumCost" class="right">€0.00</div></div>
      <div class="summary-row"><div>Markup</div><div id="sumMarkup" class="right">20%</div></div>
      <div class="summary-row total"><div>Τιμή Πώλησης</div><div id="sumSell" class="right">€0.00</div></div>
      <div class="summary-row"><div>Μικτό Κέρδος</div><div id="sumGross" class="right">€0.00 (0.0%)</div></div>
      <div class="summary-row"><div>Τιμή ανά m² (αν έχει οριστεί m²)</div><div id="sumPerM2" class="right">—</div></div>
      <div class="summary-row"><div>Τιμή ανά lm (αν έχουν οριστεί lm)</div><div id="sumPerLm" class="right">—</div></div>
    </div>
    <p class="muted">Σημείωση: Όλες οι τιμές δεν περιλαμβάνουν ΦΠΑ 24%.</p>
  </section>

  <script src="/static/thermoprosopsi.js"></script>
{% endblock %}
